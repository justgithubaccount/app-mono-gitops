üí• **–î–∞! –ò–º–µ–Ω–Ω–æ —Ç–∞–∫.**
–¢—ã –≤—ã–≤–µ–ª **—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –º—ã—à–ª–µ–Ω–∏—è –¥–ª—è Kubernetes**:

---

## üß† "–ï—Å–ª–∏ –≤—Å—ë ‚Äî –æ–±—ä–µ–∫—Ç, —Ç–æ –≤—Å—ë ‚Äî –ø–æ–ª—è.

–ê –µ—Å–ª–∏ –≤—Å—ë ‚Äî –ø–æ–ª—è, —Ç–æ –≤—Å—è –ª–æ–≥–∏–∫–∞ = `if/else` –Ω–∞–¥ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏."

> –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä = `if/else` + `Get/List/Update` –ø–æ API  
> –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã = –Ω–∞–±–æ—Ä JSON-–æ–±—ä–µ–∫—Ç–æ–≤ –≤ etcd  
> –í—Å—ë, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ:  
> "–ü–æ—Å–º–æ—Ç—Ä–∏ –≤ –ø–æ–ª—è ‚Üí —Ä–µ—à–∏, —á—Ç–æ –¥–µ–ª–∞—Ç—å ‚Üí –∏–∑–º–µ–Ω–∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è"  

---

## üìé –ü—Ä–∏–º–µ—Ä ‚Äî –ª—é–±–æ–π Reconcile Loop:

```go
if cr.Spec.Replicas != actualPodCount {
    // –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚Äî —Å–æ–∑–¥–∞—ë–º –∏–ª–∏ —É–¥–∞–ª—è–µ–º –ø–æ–¥—ã
}
```

–ò–ª–∏:

```go
if pod.Status.Phase == "Failed" && pod.Spec.RestartPolicy != "Never" {
    // –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
}
```

---

## üõ† –ú–µ—Ç—Ä–∏–∫–∏?

> –°–º–æ—Ç—Ä–∏–º `.status`, `.metadata.conditions`, `.ready`, `.availableReplicas`  
> –ò –¥—É–º–∞–µ–º: **–µ—Å–ª–∏ –Ω–µ true ‚Üí alert, patch, recreate**  

---

## üìã –ê–ª–≥–æ—Ä–∏—Ç–º –º—ã—à–ª–µ–Ω–∏—è –Ω–∞ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å:

1. üîç –ß—Ç–æ –∑–∞ –æ–±—ä–µ–∫—Ç (`kind`)?
2. üì¶ –ö–∞–∫–∏–µ —É –Ω–µ–≥–æ –ø–æ–ª—è (`spec`, `status`)?
3. üìê –ö–∞–∫–∏–µ —Å–≤—è–∑–∞–Ω—ã —Å –¥—Ä—É–≥–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ (`ownerRef`, `selector`)?
4. üîÅ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —ç—Ç–∏—Ö –ø–æ–ª–µ–π (`if`, `create`, `patch`)?
5. üß™ –ö–∞–∫ —Ç—ã –º–æ–∂–µ—à—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (`–ª–æ–≥–∏–∫–∞ –ø–æ –ø–æ–ª—è–º`)?

---

## üß∞ –¢–∞–∫ –∏ –≥–æ–≤–æ—Ä–∏

> "–ü–æ—Å–∫–æ–ª—å–∫—É –≤—Å—ë –≤ Kubernetes ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–≥–æ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã,  
> –ª–æ–≥–∏–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è `.spec` –∏ `.status`.  
> –ï—Å–ª–∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ‚Äî `if`, –∏–¥—É –≤ API, –æ–±–Ω–æ–≤–ª—è—é –Ω—É–∂–Ω–æ–µ."  

–¢—ã —ç—Ç–∏–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—à—å:

* –º—ã—à–ª–µ–Ω–∏–µ `controller-runtime`
* –ø–æ–Ω–∏–º–∞–Ω–∏–µ reconciliation loop
* —É–º–µ–Ω–∏–µ –º—ã—Å–ª–∏—Ç—å **–≤ –¥–∞–Ω–Ω—ã—Ö**, –∞ –Ω–µ "–≤ –º–∞–≥–∏–∏"

---

## üéØ –ò —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –≤ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∫–µ–π—Å–∞—Ö

–ù–∞–ø—Ä–∏–º–µ—Ä:

* –ê—Ä–≥–æCD –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª CR? ‚Üí **–°—Ä–∞–≤–Ω–∏ `.spec` –≤ Git –∏ API**
* Pod –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è? ‚Üí **–ü—Ä–æ–≤–µ—Ä—å `.status.conditions[].reason`**
* Canary rollout –∑–∞—Å—Ç—Ä—è–ª? ‚Üí **–ü–æ—Å–º–æ—Ç—Ä–∏ `.status.availableReplicas` vs `.spec.replicas`**

---

## ‚úÖ –°–≤–æ–¥–∫–∞:

* **Kubernetes = —Å–∏—Å—Ç–µ–º–∞ –æ–±—ä–µ–∫—Ç–æ–≤**
* **–õ–æ–≥–∏–∫–∞ = `if/else` –Ω–∞–¥ –ø–æ–ª—è–º–∏ —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤**
* **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä = –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `if/else` –Ω–∞ –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ**
* **–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã ‚Äî —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞, –∫–∞–∫ —Ç—ã –º—ã—Å–ª–∏—à—å —á–µ—Ä–µ–∑ –ø–æ–ª—è**