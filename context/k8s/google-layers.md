ะัะปะธัะฝะพ. ะขั ัะพัะตัั **ะฟะพะฝััั, ะบะฐะบ ะฐััะธัะตะบัััะฐ Kubernetes ะฟัะพะตะบัะธัะพะฒะฐะปะฐัั ะพั ัะดัะฐ ะดะพ ะณะพัะพะฒัั ะฒััะพะบะพััะพะฒะฝะตะฒัั ะพะฑัะตะบัะพะฒ**, ัะธะฟะฐ `Deployment`, ะฟะพ ัะปะพัะผ.
ะะฐััะผะพััะธะผ **Kubernetes ะบะฐะบ ัะปะพะธัััั ะฐััะธัะตะบัััั, ัะฟัะพะตะบัะธัะพะฒะฐะฝะฝัั Googleโะพะผ**, ะฝะฐัะธะฝะฐั ั ัะฐะผะพะน ะฝะธะถะฝะตะน ัะฐััะธ โ **etcd**, ะธ ะทะฐะบะฐะฝัะธะฒะฐั ะฒััะพะบะพััะพะฒะฝะตะฒัะผะธ ะฐะฑัััะฐะบัะธัะผะธ ะฒัะพะดะต `Deployment`.

---

## ๐งฑ ะััะธัะตะบัััะฐ Kubernetes ะฟะพ ัะปะพัะผ (ะพั ัะดัะฐ ะดะพ ััะพะฒะฝั ะฟะพะปัะทะพะฒะฐัะตะปั):

### 0๏ธโฃ **etcd** โ ะฅัะฐะฝะธะปะธัะต ัะพััะพัะฝะธั

* ะญัะพ **ะบะปัั-ะทะฝะฐัะตะฝะธะต** ะฑะฐะทะฐ, ะบัะดะฐ ะฒัั ะฒ ะธัะพะณะต ัะพััะฐะฝัะตััั
* ะัั, ััะพ ะตััั ะฒ ะบะปะฐััะตัะต โ `Pods`, `Secrets`, `Nodes`, `MyApp`, `Events` โ ััะพ JSON ะฒ `etcd`
* ะะธะบะฐะบะพะน ะปะพะณะธะบะธ โ ะฟัะพััะพ **state store**

---

### 1๏ธโฃ **kube-apiserver** โ REST API (ัะดัะพ API-ะฐััะธัะตะบัััั)

* ะญัะพ **ะตะดะธะฝะฐั ัะพัะบะฐ ะฒัะพะดะฐ**: ะฒัะต `kubectl`, `curl`, `ArgoCD`, `controller` ัะฐะฑะพัะฐัั ัะพะปัะบะพ ั ะฝะธะผ
* ะะฝ:

  * ะฟัะพะฒะตััะตั ะดะพัััะฟ (RBAC)
  * ะฒะฐะปะธะดะธััะตั ะดะฐะฝะฝัะต ะฟะพ OpenAPI schema
  * ัะตัะธะฐะปะธะทัะตั ะฒ `etcd`
  * ัะฐัััะปะฐะตั `WATCH`-ะธะฒะตะฝัั ะบะพะฝััะพะปะปะตัะฐะผ
* ะญัะพ ัััะพะณะพ **REST-ัะตัะฒะตั** ั ัะธะฟะฐะผะธ ัะตััััะพะฒ (`Pod`, `Deployment`, `CustomResource`)

---

### 2๏ธโฃ **API Group & CRD Layer** โ ะดะตะบะปะฐัะฐัะธั ะฝะพะฒัั ัะตััััะพะฒ

* Google ะพะฟัะตะดะตะปะธะป **ััะฐะฝะดะฐััะฝัะต API-ะณััะฟะฟั**:

  * `core/v1`: `Pod`, `Service`, `Secret`, `ConfigMap`
  * `apps/v1`: `Deployment`, `StatefulSet`, `ReplicaSet`
  * `batch/v1`: `Job`, `CronJob`
* ะะพัะพะผ ะดะพะฑะฐะฒะธะปะธ **CRD-ะผะตัะฐะฝะธะทะผ**, ััะพะฑั ัะฐััะธัััั API ะฟัะพะธะทะฒะพะปัะฝะพ

> ะญัะพ ััะพะฒะตะฝั โัะธะฟะฐ ะดะฐะฝะฝััโ. ะัั ัะธะฟะธะทะธัะพะฒะฐะฝะพ โ ัััะพะณะพะต API ะผััะปะตะฝะธะต.  

---

### 3๏ธโฃ **Controller Layer** โ ะฟะพะฒะตะดะตะฝะธะต / ะปะพะณะธะบะฐ / reconciliation

* Google ะฒะฝะตะดัะธะป ะฟะฐััะตัะฝ **ะบะพะฝััะพะปะปะตัะพะฒ** (reconcile loop)
* ะะฐะถะดัะน ัะตัััั (`Deployment`, `Job`) ะธะผะตะตั **ัะฒะพะน ะบะพะฝััะพะปะปะตั**

  * `Deployment controller` ัะปะตะดะธั ะทะฐ `Deployment` ะธ ัะฟัะฐะฒะปัะตั `ReplicaSet`
  * `ReplicaSet controller` ัะฟัะฐะฒะปัะตั `Pod`
  * `Job controller` ะทะฐะฟััะบะฐะตั `Pod` ะธ ัะปะตะดะธั ะทะฐ ะทะฐะฒะตััะตะฝะธะตะผ
* ะัั ะฟะพะฒะตะดะตะฝะธะต โ ััะพ ะฟัะพััะพ **watch + reconcile + create/update/delete**

---

### 4๏ธโฃ **Scheduler, kubelet ะธ runtime** โ ะธัะฟะพะปะฝัััะฐั ััะตะดะฐ

* **Scheduler** ะฒัะฑะธัะฐะตั, ะฝะฐ ะบะฐะบะพะน `Node` ะทะฐะฟััะบะฐัั `Pod`
* **kubelet** ะฝะฐ ะฝะพะดะต:

  * ัะธัะฐะตั ะปะพะบะฐะปัะฝัะน ัะฟะธัะพะบ ะฟะพะดะพะฒ
  * ะทะฐะฟััะบะฐะตั ะบะพะฝัะตะนะฝะตัั (ัะตัะตะท container runtime)
  * ะพััะธััะฒะฐะตััั ะพะฑ ะธั ัะพััะพัะฝะธะธ
* ะญัะพ **ััะพะฒะตะฝั ะธัะฟะพะปะฝะตะฝะธั** โ ะณะดะต YAML ะฟัะตะฒัะฐัะฐะตััั ะฒ ะบะพะฝัะตะนะฝะตัั

---

### 5๏ธโฃ **kubectl / CLI / GitOps / Helm** โ ะธะฝัะตััะตะนัั ะฟะพะปัะทะพะฒะฐัะตะปั

* ะัั, ััะพ ะดะตะปะฐะตั ะฟะพะปัะทะพะฒะฐัะตะปั โ ััะพ **ัะฐะฑะพัะฐ ั API-ัะตัะฒะตัะพะผ**:

  * `kubectl apply -f deploy.yaml`
  * `curl -X POST /apis/apps/v1/namespaces/default/deployments`
  * `ArgoCD sync` ะธะท Git ะฒ API
  * `helm upgrade --install`

---

### 6๏ธโฃ **ะะพัะพะฒัะต ะฐะฑัััะฐะบัะธะธ: Deployment, Service, StatefulSet...**

* `Deployment` = ะฒััะพะบะพััะพะฒะฝะตะฒะฐั ะดะตะบะปะฐัะฐัะธั:

  * `spec.replicas` = 3
  * `spec.template` = pod spec
* ะะพะฝััะพะปะปะตั ะดะตะปะฐะตั ะฒัั ะพััะฐะปัะฝะพะต: ัะพะทะดะฐะตั/ัะดะฐะปัะตั `ReplicaSet`, ะบะพัะพััะน ัะฟัะฐะฒะปัะตั `Pod`'ะฐะผะธ
* ะญัะพ ััะพะฒะตะฝั, **ัะดะพะฑะฝัะน ัะตะปะพะฒะตะบั**

---

## ๐ ะะธะทัะฐะปัะฝะพ (ัะฝะธะทั ะฒะฒะตัั):

```text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 6. Deployment / StatefulSet  โ โ ะดะตะบะปะฐัะฐัะธะธ ะฟะพะปัะทะพะฒะฐัะตะปั
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 5. kubectl / ArgoCD / Helm   โ โ ะธะฝััััะผะตะฝัั ะฒะทะฐะธะผะพะดะตะนััะฒะธั
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 4. kubelet / containerd      โ โ ะทะฐะฟััะบ ะบะพะฝัะตะนะฝะตัะพะฒ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 3. Controllers / Reconcile   โ โ ะปะพะณะธะบะฐ ัะฟัะฐะฒะปะตะฝะธั ัะตััััะฐะผะธ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 2. API Groups / CRDs         โ โ ะพะฟะธัะฐะฝะธะต ัะธะฟะพะฒ ะธ ััะตะผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 1. kube-apiserver (REST API) โ โ ัะตัะดัะต ะฒัะตะน ัะธััะตะผั
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 0. etcd (key-value store)    โ โ ัะฐะบัะธัะตัะบะพะต ัะพััะพัะฝะธะต
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ะัะธะผะตั: ะบะฐะบ ัะฐะฑะพัะฐะตั `Deployment`

1. ะขั ะฟะธัะตัั `deployment.yaml` ะธ ะฟััะธัั ะฒ Git
2. ArgoCD ะดะตะปะฐะตั `POST` ัะตัะตะท kube-apiserver โ CR `Deployment` โ etcd
3. `Deployment controller` ะฒะธะดะธั ะฝะพะฒัะน ะพะฑัะตะบั โ ัะพะทะดะฐัั `ReplicaSet`
4. `ReplicaSet controller` ัะพะทะดะฐัั `Pod`โั
5. `Scheduler` ะฒัะฑะธัะฐะตั ะฝะพะดั, `kubelet` ะทะฐะฟััะบะฐะตั ะบะพะฝัะตะนะฝะตัั

---

## โ ะกะฒะพะดะบะฐ:

| ะฃัะพะฒะตะฝั     | ะะฐะทะฝะฐัะตะฝะธะต                                   |
| ----------- | -------------------------------------------- |
| etcd        | ะขะพะปัะบะพ ัะพััะพัะฝะธะต                             |
| API-ัะตัะฒะตั  | REST-ะธะฝัะตััะตะนั ะบะพ ะฒัะตะผั                      |
| CRD / API   | ะขะธะฟะธะทะฐัะธั ะดะฐะฝะฝัั, ััะตะผั                      |
| Controllers | ะะพะณะธะบะฐ ะฟะพะฒะตะดะตะฝะธั (ัะตะฐะบัะธะธ)                   |
| kubelet     | ะคะฐะบัะธัะตัะบะพะต ะธัะฟะพะปะฝะตะฝะธะต ะฝะฐ ะฝะพะดะต               |
| Deployment  | ะฃะดะพะฑะฝะฐั ะฐะฑัััะฐะบัะธั, ะฝะพ ะฒัั ัะฒะพะดะธััั ะบ Pod'ะฐะผ |

---

ะัะปะธ ัะพัะตัั, ะผะพะณั ัะฐะทะปะพะถะธัั **ะถะธะทะฝะตะฝะฝัะน ัะธะบะป Pod โ ReplicaSet โ Deployment โ API โ Controller โ Runtime** ะบะฐะบ ัะตะฟะพัะบั ัะพะฑััะธะน ะธ REST-ะทะฐะฟัะพัะพะฒ.
