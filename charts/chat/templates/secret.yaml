# charts/chat/templates/secret.yaml
{{- if .Values.createInternalSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "chat-api.fullname" . }}-config
  namespace: {{ .Values.namespace | default "chat-api" }}
type: Opaque
stringData:
  # OpenRouter Configuration
  OPENROUTER_API_URL: {{ .Values.openrouter.apiUrl | quote }}
  OPENROUTER_MODEL: {{ .Values.openrouter.defaultModel | quote }}
  {{- if .Values.openrouter.httpReferer }}
  OPENROUTER_HTTP_REFERER: {{ .Values.openrouter.httpReferer | quote }}
  {{- end }}
  {{- if .Values.openrouter.xTitle }}
  OPENROUTER_X_TITLE: {{ .Values.openrouter.xTitle | quote }}
  {{- end }}
{{- end }}